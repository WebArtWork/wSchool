import{b as y}from"./chunk-K5ATWWWY.js";import{d as v}from"./chunk-CZLGUVAL.js";import"./chunk-2YGQTJPJ.js";import{a as g}from"./chunk-MUJBVTFU.js";import{a as f}from"./chunk-2H4XP5XP.js";import{l as p,q as d}from"./chunk-6F3JZZEN.js";import{$ as l,Db as h,Z as r,da as c,ob as u,pa as a,sa as m,z as n}from"./chunk-QGRJSNEC.js";var C={formId:"schoollesson",title:"Schoollesson",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill schoollesson title"},{name:"Label",value:"Title"}]},{name:"Text",key:"shortDescription",fields:[{name:"Placeholder",value:"fill lesson short description"},{name:"Label",value:"Short description"}]},{name:"Html",key:"description",fields:[{name:"Placeholder",value:"fill schoollesson description"},{name:"Label",value:"Description"},{name:"Textarea",value:!0}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill schoollesson description"},{name:"Label",value:"Description"},{name:"Textarea",value:!0}]},{name:"Tags",key:"links",fields:[{name:"Placeholder",value:"add lessons links"},{name:"Label",value:"Links"}]}]};var S=(()=>{let e=class e extends d{constructor(){super({name:"schoollesson"}),this.schoollessons=this.getDocs(),this.schoollessonsByAuthor={},this.get(),this.filteredDocuments(this.schoollessonsByAuthor)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var w=(()=>{let e=class e extends p{allowCreate(){return this._userService.role("admin")||this._userService.role("schoolowner")||this._userService.role("schoolteacher")}allowMutate(){return this.allowCreate()}allowSort(){return!0}preCreate(s){delete s.__created,this.course&&(s.course=this.course)}constructor(s,o,i,T,b){super(C,b,i,s),this._userService=o,this._router=T,this.course=this._router.url.includes("/lessons/")?this._router.url.split("/")[this._router.url.split("/").length-1]:"",this.configType="local",this.columns=["name"],this.config=this.getConfig(),this.setDocuments(),this.config.buttons.push({icon:"assignment",hrefFunc:I=>this._roleUrl()+"tests/lesson/"+I._id})}_roleUrl(){return this._userService.role("admin")?"/admin/":this._userService.role("schoolowner")?"/owner/":this._userService.role("schoolteacher")?"/teacher/":"/"}};e.\u0275fac=function(o){return new(o||e)(r(S),r(g),r(f),r(h),r(v))},e.\u0275cmp=l({type:e,selectors:[["ng-component"]],features:[c],decls:1,vars:3,consts:[["title","Lessons",3,"columns","config","rows"]],template:function(o,i){o&1&&m(0,"wtable",0),o&2&&a("columns",i.columns)("config",i.config)("rows",i.documents)},dependencies:[u,y],encapsulation:2});let t=e;return t})();var q=[{path:"",component:w}];export{q as lessonsRoutes};
